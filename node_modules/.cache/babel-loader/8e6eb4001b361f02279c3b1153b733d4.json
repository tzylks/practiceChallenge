{"ast":null,"code":"import _slicedToArray from\"/Users/trevorzylks/Development/code/module5/practiceInterview/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./DonateForm.css';import React,{useState}from'react';import{connect}from'react-redux';import{getSessionUser,addContribution}from'../modules';function DonateForm(_ref){var campaign=_ref.campaign,user=_ref.user,addContribution=_ref.addContribution;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var amountInputProps={className:'Donate-amount',value:amount,placeholder:'Amount',type:'Number',onChange:function onChange(_ref2){var value=_ref2.target.value;return setAmount(value);}};var messageInputProps={className:'Donate-message',value:message,placeholder:'Message',onChange:function onChange(_ref3){var value=_ref3.target.value;return setMessage(value);}};var buttonProps={className:'Donate-button',onClick:function onClick(event){if(amount===''){setError('Please enter an amount.');}else if(amount<=0){setError('Invalid donation amount.');}else if(amount>user.balance){setError('Insufficent funds.');}else{addContribution(amount,message,campaign.id);resetForm();}}};var resetForm=function resetForm(){setAmount('');setMessage('');setError(null);};var errorMessage=error&&/*#__PURE__*/React.createElement(\"div\",{className:\"Donate-error\"},error);return/*#__PURE__*/React.createElement(\"div\",{className:\"Donate-form\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Donate to \",campaign.name),/*#__PURE__*/React.createElement(\"input\",amountInputProps),/*#__PURE__*/React.createElement(\"input\",messageInputProps),errorMessage,/*#__PURE__*/React.createElement(\"button\",buttonProps,\"Donate\"));}var mapStateToProps=function mapStateToProps(state){return{user:getSessionUser(state),addContribution:addContribution};};var mapDispatchToProps={addContribution:addContribution};export default connect(mapStateToProps,mapDispatchToProps)(DonateForm);","map":{"version":3,"sources":["/Users/trevorzylks/Development/code/module5/practiceInterview/src/components/DonateForm.js"],"names":["React","useState","connect","getSessionUser","addContribution","DonateForm","campaign","user","amount","setAmount","message","setMessage","error","setError","amountInputProps","className","value","placeholder","type","onChange","target","messageInputProps","buttonProps","onClick","event","balance","id","resetForm","errorMessage","name","mapStateToProps","state","mapDispatchToProps"],"mappings":"oLAAA,MAAO,kBAAP,CAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,cAAT,CAAyBC,eAAzB,KAAgD,YAAhD,CAEA,QAASC,CAAAA,UAAT,MAA0D,IAAnCC,CAAAA,QAAmC,MAAnCA,QAAmC,CAAzBC,IAAyB,MAAzBA,IAAyB,CAAnBH,eAAmB,MAAnBA,eAAmB,CACzD,cAA4BH,QAAQ,CAAC,EAAD,CAApC,wCAAOO,MAAP,eAAeC,SAAf,eACA,eAA8BR,QAAQ,CAAC,EAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAA0BV,QAAQ,CAAC,IAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,gBAAgB,CAAG,CACxBC,SAAS,CAAE,eADa,CAExBC,KAAK,CAAER,MAFiB,CAGxBS,WAAW,CAAE,QAHW,CAIxBC,IAAI,CAAE,QAJkB,CAKxBC,QAAQ,CAAE,4BAAaH,CAAAA,KAAb,OAAGI,MAAH,CAAaJ,KAAb,OAA2BP,CAAAA,SAAS,CAACO,KAAD,CAApC,EALc,CAAzB,CAQA,GAAMK,CAAAA,iBAAiB,CAAG,CACzBN,SAAS,CAAE,gBADc,CAEzBC,KAAK,CAAEN,OAFkB,CAGzBO,WAAW,CAAE,SAHY,CAIzBE,QAAQ,CAAE,4BAAaH,CAAAA,KAAb,OAAGI,MAAH,CAAaJ,KAAb,OAA2BL,CAAAA,UAAU,CAACK,KAAD,CAArC,EAJe,CAA1B,CAOA,GAAMM,CAAAA,WAAW,CAAG,CACnBP,SAAS,CAAE,eADQ,CAEnBQ,OAAO,CAAE,iBAACC,KAAD,CAAW,CACnB,GAAIhB,MAAM,GAAK,EAAf,CAAmB,CAClBK,QAAQ,CAAC,yBAAD,CAAR,CACA,CAFD,IAEM,IAAGL,MAAM,EAAI,CAAb,CAAgB,CACrBK,QAAQ,CAAC,0BAAD,CAAR,CACA,CAFK,IAEA,IAAGL,MAAM,CAAGD,IAAI,CAACkB,OAAjB,CAAyB,CAC9BZ,QAAQ,CAAC,oBAAD,CAAR,CACA,CAFK,IAED,CACJT,eAAe,CAACI,MAAD,CAASE,OAAT,CAAkBJ,QAAQ,CAACoB,EAA3B,CAAf,CACAC,SAAS,GACT,CACD,CAbkB,CAApB,CAgBA,GAAMA,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACvBlB,SAAS,CAAC,EAAD,CAAT,CACAE,UAAU,CAAC,EAAD,CAAV,CACAE,QAAQ,CAAC,IAAD,CAAR,CACA,CAJD,CAMA,GAAMe,CAAAA,YAAY,CAAGhB,KAAK,eACzB,2BAAK,SAAS,CAAC,cAAf,EAAgCA,KAAhC,CADD,CAIA,mBAAO,2BAAK,SAAS,CAAC,aAAf,eACN,2CAAgBN,QAAQ,CAACuB,IAAzB,CADM,cAEN,4BAAYf,gBAAZ,CAFM,cAGN,4BAAYO,iBAAZ,CAHM,CAIJO,YAJI,cAKN,6BAAaN,WAAb,UALM,CAAP,CAOA,CAED,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAASC,KAAT,CAAgB,CACvC,MAAO,CACNxB,IAAI,CAAEJ,cAAc,CAAC4B,KAAD,CADd,CAEN3B,eAAe,CAAfA,eAFM,CAAP,CAIA,CALD,CAOA,GAAM4B,CAAAA,kBAAkB,CAAG,CACzB5B,eAAe,CAAfA,eADyB,CAA3B,CAIA,cAAeF,CAAAA,OAAO,CAAC4B,eAAD,CAAkBE,kBAAlB,CAAP,CAA6C3B,UAA7C,CAAf","sourcesContent":["import './DonateForm.css'\n\nimport React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { getSessionUser, addContribution } from '../modules'\n\nfunction DonateForm ({ campaign, user, addContribution }) {\n\tconst [amount, setAmount] = useState('')\n\tconst [message, setMessage] = useState('')\n\tconst [error, setError] = useState(null)\n\n\tconst amountInputProps = {\n\t\tclassName: 'Donate-amount',\n\t\tvalue: amount,\n\t\tplaceholder: 'Amount',\n\t\ttype: 'Number',\n\t\tonChange: ({ target: { value } }) => setAmount(value)\n\t}\n\n\tconst messageInputProps = {\n\t\tclassName: 'Donate-message',\n\t\tvalue: message,\n\t\tplaceholder: 'Message',\n\t\tonChange: ({ target: { value } }) => setMessage(value)\n\t}\n\n\tconst buttonProps = {\n\t\tclassName: 'Donate-button',\n\t\tonClick: (event) => {\n\t\t\tif( amount === '' ){\n\t\t\t\tsetError('Please enter an amount.')\n\t\t\t}else if(amount <= 0) {\n\t\t\t\tsetError('Invalid donation amount.')\n\t\t\t}else if(amount > user.balance){\n\t\t\t\tsetError('Insufficent funds.')\n\t\t\t}else{\n\t\t\t\taddContribution(amount, message, campaign.id)\n\t\t\t\tresetForm()\n\t\t\t}\n\t\t}\n\t}\n\n\tconst resetForm = () => {\n\t\tsetAmount('')\n\t\tsetMessage('')\n\t\tsetError(null)\n\t}\n\n\tconst errorMessage = error && (\n\t\t<div className=\"Donate-error\">{ error }</div>\n\t)\n\n\treturn <div className=\"Donate-form\">\n\t\t<h2>Donate to { campaign.name }</h2>\n\t\t<input { ...amountInputProps } />\n\t\t<input { ...messageInputProps } />\n\t\t{ errorMessage }\n\t\t<button { ...buttonProps }>Donate</button>\n\t</div>\n}\n\nconst mapStateToProps = function(state) {\n\treturn {\n\t\tuser: getSessionUser(state),\n\t\taddContribution\n\t}\n}\n\nconst mapDispatchToProps = {\n  addContribution\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DonateForm)\n"]},"metadata":{},"sourceType":"module"}